{% extends "admin/base_site.html" %}

{% load i18n admin_urls static admin_list %}

{% load crispy_forms_tags %}

{% load evaluate %}

{% block extrastyle %}
	<style>
		label {
			margin: 0;
			padding: 5px;
			padding-left: 10px;
			background-color: #2c3e50;
			color: #fff;
			display: block;
			font-family: "Roboto","Lucida Grande","DejaVu Sans","Bitstream Vera Sans",Verdana,Arial,sans-serif;
		}
	</style>
{% endblock extrastyle %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="/admin/task">Task</a>
&rsaquo; <a href="/admin/task/task">Tasks</a>
&rsaquo; Evaluate Task
</div>
{% endblock %}

{% block content %}
	<div class="container-fluid">
		<h1>Evaluate {{ task.title }}</h1>
		<p>Number of response: {{ task_response_list.count }}</p>
		{% for question in question_list %}
			<label>{{ question }}</label>
			<table class="table table-bordered" style="table-layout: fixed">
				<thead>
					<tr class="table-head">
	                    <th>Answer</th>
	                    <th>User Agreement</th>
					</tr>
				</thead>
				<tbody>
					{% for answer in question.answer_set.all %}
						<tr>
							<td>{{ answer }}</td>
							{% evaluate answer question task_response_list as user_agreement_percentage %}
							<td>{{ user_agreement_percentage }}</td>
						</tr>
					{% endfor %}
				</tbody>			
	        </table>
		{% endfor %}
	</div>
{% endblock content %}